{
    "name": "Sera AI Microservices Development Environment",
    "service": "app",
    "features": {
		"ghcr.io/devcontainers/features/docker-outside-of-docker:1": {}
	},
    "workspaceFolder": "/workspace",
    "dockerComposeFile": "docker-compose.yml",
    "runArgs": [
        "--add-host=sera.local:127.0.0.1",
        "--add-host=sera.test:127.0.0.1"
    ],
    "containerEnv": {
        "DOMAIN_NAME": "",
        "BE_ROUTER_PORT": "12000",
        "FE_CATALOG_PORT": "12010",
        "FE_BUILDER_PORT": "12020",
        "BE_BUILDER_PORT": "12030",
        "BE_SOCKET_PORT": "12040",
        "BE_SEQUENCER_PORT": "12050",
        "SERA_INSTANCE_BE_BUILDER_SERVICE_HOST": "127.0.0.1",
        "SERA_INSTANCE_BE_SEQUENCER_SERVICE_HOST" : "127.0.0.1",
        "SERA_INSTANCE_BE_SOCKET_SERVICE_HOST" : "127.0.0.1"
    },
    "settings": { 
        "terminal.integrated.shell.linux": "/bin/bash"
    },
    "extensions": [
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode"
    ],
    "forwardPorts": [12020, 12010, 12030, 12040, 12000, 12050, 27017, 6379],
    "postCreateCommand": "git submodule update --init --recursive",
    "postStartCommand": "docker-compose exec app mongod --fork --logpath /var/log/mongod.log --bind_ip_all",  
    "shutdownAction": "stopCompose",
    "runServices": ["app", "mongo", "redis"],
    "remoteEnv": {
        "GITHUB_TOKEN": "${GITHUB_TOKEN}"
    },
    "portsAttributes": {
        "12000": {
            "label": "Router: 12000",
            "protocol": "https"
        }
    }
}
