{
    "name": "Sera AI Microservices Development Environment",
    "service": "app",
    "workspaceFolder": "/workspace",
    "build": {
        "dockerfile": "Dockerfile",
        "context": "..",
        "args": {
            "GITHUB_TOKEN": "${{ secrets.GITHUB_TOKEN }}",
            "BUILDKIT_PROGRESS": "plain"
        }
    },
    "runArgs": [
        "--add-host=local.sera:127.0.0.1",
        "--add-host=test.sera:127.0.0.1",
        "--add-host=dns.sera:127.0.0.1",
        "--add-host=manage.sera:127.0.0.1"
    ],
    "containerEnv": {
        "DOMAIN_NAME": "example.sera",
        "BE_ROUTER_PORT": "12000",
        "FE_CATALOG_PORT": "12010",
        "BE_BUILDER_PORT": "12030",
        "BE_SOCKET_PORT": "12040",
        "BE_SEQUENCER_PORT": "12050",
        "BE_PROCESSOR_PORT": "12060",
        "DB_HOST": "mongodb://localhost:27017"
    },
    "settings": { 
        "terminal.integrated.shell.linux": "/bin/bash"
    },
    "extensions": [
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode"
    ],
    "forwardPorts": [12000, 12010, 12030, 12040, 12050, 12060, 27017, 6379],
    "postCreateCommand": "bash ./.devcontainer/entrypoint.sh",
    "shutdownAction": "stopCompose",
    "runServices": ["app", "mongo"],
    "remoteEnv": {
        "GITHUB_TOKEN": "${GITHUB_TOKEN}"
    },
    "portsAttributes": {
        "12000": {
            "label": "Router: 12000",
            "protocol": "https"
        }
    }
}
